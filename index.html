<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#050810">
    <title>Diagn√≥stico IA 360¬∞ | IA LABS - ICONE Academy</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #05445e;
            --primary: #147e93;
            --primary-medium: #0292b7;
            --primary-light: #1ac8db;
            --accent-light: #75e6da;
            --accent-lighter: #99dfec;
            --white: #ebfdff;
            --white-pure: #ffffff;
            --gray: #616161;
            --gray-light: #9e9e9e;
            --gray-dark: #8c756a;
            --yellow: #f9c911;
            --green: #359830;
            --bg-dark: #0a0e1a;
            --bg-darker: #050810;
            --gradient-primary: linear-gradient(135deg, #147e93 0%, #1ac8db 100%);
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg-darker);
            color: var(--white);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-text-size-adjust: 100%;
        }

        /* Neural Network Background */
        .neural-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            background: radial-gradient(ellipse at top, #0a1628 0%, var(--bg-darker) 100%);
        }

        .neural-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.15;
        }

        .neural-background::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 15% 20%, rgba(20, 126, 147, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 85% 80%, rgba(26, 200, 219, 0.06) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(5, 68, 94, 0.1) 0%, transparent 50%);
            animation: pulse-neural 8s ease-in-out infinite;
        }

        @keyframes pulse-neural {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        /* Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--accent-light);
            border-radius: 50%;
            opacity: 0.4;
            animation: float-particle 15s infinite ease-in-out;
            box-shadow: 0 0 8px rgba(26, 200, 219, 0.6);
        }

        @keyframes float-particle {
            0%, 100% { 
                transform: translate(0, 0) scale(1);
                opacity: 0.4;
            }
            25% { 
                transform: translate(80px, -80px) scale(1.3);
                opacity: 0.6;
            }
            50% { 
                transform: translate(-40px, 40px) scale(0.7);
                opacity: 0.3;
            }
            75% { 
                transform: translate(120px, 80px) scale(1.1);
                opacity: 0.5;
            }
        }

        /* Container */
        .app-container {
            position: relative;
            z-index: 2;
            max-width: 1000px;
            margin: 0 auto;
            padding: 1.5rem 1rem;
            min-height: 100vh;
        }

        /* Glass Card */
        .glass-card {
            background: rgba(10, 14, 26, 0.85);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid rgba(26, 200, 219, 0.2);
            border-radius: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(26, 200, 219, 0.1);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s ease-out;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(26, 200, 219, 0.1), 
                transparent);
            animation: shimmer 4s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 200%; }
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1rem;
            animation: fadeInDown 1s ease-out;
        }

        .logo-container {
            width: 100px;
            height: 100px;
            margin: 0 auto 1.5rem;
            position: relative;
            animation: float 3s ease-in-out infinite;
        }

        .logo-3d {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1ac8db 0%, #147e93 100%);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: 
                0 20px 60px rgba(26, 200, 219, 0.4),
                inset 0 -2px 10px rgba(0, 0, 0, 0.3),
                inset 0 2px 10px rgba(255, 255, 255, 0.1);
            transform: perspective(1000px) rotateX(5deg);
            transition: transform 0.3s ease;
        }

        .logo-3d:hover {
            transform: perspective(1000px) rotateX(0deg) scale(1.05);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        .main-title {
            font-size: clamp(1.8rem, 5vw, 3.5rem);
            font-weight: 900;
            background: linear-gradient(135deg, #fff 0%, #75e6da 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.8rem;
            letter-spacing: -0.02em;
            text-shadow: 0 0 40px rgba(117, 230, 218, 0.3);
        }

        .subtitle {
            font-size: clamp(0.9rem, 2vw, 1.2rem);
            color: var(--accent-lighter);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .creator-tag {
            font-size: clamp(0.75rem, 1.5vw, 0.85rem);
            color: rgba(117, 230, 218, 0.6);
            font-weight: 400;
            margin-top: 0.8rem;
        }

        /* Progress Circle */
        .progress-container {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1rem;
        }

        .progress-ring {
            position: relative;
            width: clamp(140px, 30vw, 180px);
            height: clamp(140px, 30vw, 180px);
            margin: 0 auto 1rem;
        }

        .progress-ring svg {
            transform: rotate(-90deg);
            filter: drop-shadow(0 0 20px rgba(26, 200, 219, 0.4));
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(2rem, 5vw, 2.5rem);
            font-weight: 800;
            color: var(--white);
        }

        .progress-label {
            font-size: clamp(0.75rem, 2vw, 0.9rem);
            color: var(--accent-lighter);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        /* Question Card */
        .question-card {
            padding: clamp(1.5rem, 4vw, 2.5rem);
            animation: slideInRight 0.5s ease-out;
        }

        .question-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(26, 200, 219, 0.15);
            border: 1px solid rgba(26, 200, 219, 0.3);
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-size: clamp(0.7rem, 1.5vw, 0.85rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .question-title {
            font-size: clamp(1.2rem, 3vw, 2rem);
            font-weight: 800;
            color: var(--white);
            margin-bottom: 0.8rem;
            line-height: 1.3;
        }

        .question-subtitle {
            font-size: clamp(0.85rem, 2vw, 1.1rem);
            color: var(--accent-lighter);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* Options */
        .options-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option-modern {
            background: rgba(10, 20, 35, 0.6);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(26, 200, 219, 0.15);
            border-radius: 16px;
            padding: 1.2rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 1rem;
            min-height: 80px;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .option-modern::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(26, 200, 219, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.5s ease, height 0.5s ease;
        }

        .option-modern:hover {
            transform: translateX(4px);
            border-color: rgba(26, 200, 219, 0.5);
            box-shadow: 
                0 8px 24px rgba(26, 200, 219, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .option-modern:active {
            transform: scale(0.98);
        }

        .option-modern:hover::before {
            width: 400px;
            height: 400px;
        }

        .option-modern.selected {
            background: linear-gradient(135deg, rgba(26, 200, 219, 0.25) 0%, rgba(20, 126, 147, 0.25) 100%);
            border-color: var(--primary-light);
            box-shadow: 
                0 0 30px rgba(26, 200, 219, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .option-icon {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            min-width: clamp(40px, 8vw, 50px);
            text-align: center;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .option-content {
            flex: 1;
        }

        .option-label {
            font-size: clamp(1rem, 2vw, 1.2rem);
            font-weight: 700;
            color: var(--white);
            margin-bottom: 0.3rem;
            display: block;
        }

        .option-text {
            font-size: clamp(0.8rem, 1.5vw, 0.95rem);
            color: var(--accent-lighter);
            line-height: 1.5;
        }

        .option-points {
            display: none; /* Oculto para evitar sesgo */
        }

        .option-check {
            width: 28px;
            height: 28px;
            min-width: 28px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .option-modern.selected .option-check {
            background: var(--primary-light);
            border-color: var(--primary-light);
            box-shadow: 0 0 15px rgba(26, 200, 219, 0.6);
        }

        .option-modern.selected .option-check::after {
            content: '‚úì';
            color: var(--bg-darker);
            font-weight: 900;
            font-size: 1rem;
        }

        /* Buttons */
        .btn-holographic {
            position: relative;
            padding: clamp(1rem, 2vw, 1.2rem) clamp(1.5rem, 3vw, 2.5rem);
            border: none;
            border-radius: 12px;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            overflow: hidden;
            transition: all 0.4s ease;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--white);
            box-shadow: 
                0 8px 32px rgba(26, 200, 219, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            width: 100%;
            min-height: 56px;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .btn-holographic::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        .btn-holographic:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 
                0 12px 40px rgba(26, 200, 219, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .btn-holographic:active:not(:disabled) {
            transform: scale(0.98);
        }

        .btn-holographic:hover:not(:disabled)::before {
            width: 400px;
            height: 400px;
        }

        .btn-holographic:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-direction: column;
        }

        @media (min-width: 640px) {
            .button-group {
                flex-direction: row;
            }
            
            .button-group .btn-holographic {
                width: auto;
                flex: 1;
            }
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: clamp(1.5rem, 3vw, 2rem);
        }

        .welcome-visual {
            width: clamp(150px, 30vw, 200px);
            height: clamp(150px, 30vw, 200px);
            margin: 0 auto 2rem;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(4rem, 10vw, 6rem);
            box-shadow: 
                0 20px 60px rgba(26, 200, 219, 0.4),
                inset 0 -5px 20px rgba(0, 0, 0, 0.3),
                inset 0 5px 20px rgba(255, 255, 255, 0.1);
            animation: pulse-glow 3s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 
                    0 20px 60px rgba(26, 200, 219, 0.4),
                    inset 0 -5px 20px rgba(0, 0, 0, 0.3),
                    inset 0 5px 20px rgba(255, 255, 255, 0.1);
            }
            50% { 
                box-shadow: 
                    0 20px 80px rgba(26, 200, 219, 0.6),
                    0 0 60px rgba(26, 200, 219, 0.4),
                    inset 0 -5px 20px rgba(0, 0, 0, 0.3),
                    inset 0 5px 20px rgba(255, 255, 255, 0.1);
            }
        }

        .welcome-title {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 900;
            color: var(--white);
            margin-bottom: 1rem;
        }

        .welcome-text {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: var(--accent-lighter);
            margin-bottom: 2rem;
            line-height: 1.8;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: rgba(10, 20, 35, 0.6);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(26, 200, 219, 0.2);
            border-radius: 16px;
            padding: 1.5rem 1rem;
            text-align: center;
            transition: all 0.4s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 32px rgba(26, 200, 219, 0.3);
            border-color: rgba(26, 200, 219, 0.4);
        }

        .feature-icon {
            font-size: clamp(2.5rem, 6vw, 3.5rem);
            margin-bottom: 0.8rem;
            filter: drop-shadow(0 4px 12px rgba(26, 200, 219, 0.4));
        }

        .feature-title {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            font-weight: 700;
            color: var(--white);
            margin-bottom: 0.5rem;
        }

        .feature-desc {
            font-size: clamp(0.75rem, 1.5vw, 0.9rem);
            color: var(--accent-lighter);
            line-height: 1.5;
        }

        /* Results Screen */
        .results-screen {
            padding: clamp(1.5rem, 3vw, 2rem);
        }

        .score-section {
            text-align: center;
            margin-bottom: 3rem;
        }

        .score-circle {
            width: clamp(200px, 40vw, 280px);
            height: clamp(200px, 40vw, 280px);
            margin: 0 auto 2rem;
            position: relative;
        }

        .score-circle svg {
            transform: rotate(-90deg);
            filter: drop-shadow(0 0 30px rgba(26, 200, 219, 0.5));
        }

        .score-value-large {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(3.5rem, 10vw, 5rem);
            font-weight: 900;
            background: linear-gradient(135deg, #fff 0%, var(--primary-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .score-label {
            position: absolute;
            bottom: 25%;
            left: 50%;
            transform: translateX(-50%);
            font-size: clamp(0.75rem, 2vw, 0.9rem);
            color: var(--accent-lighter);
            text-transform: uppercase;
            letter-spacing: 0.15em;
            white-space: nowrap;
        }

        .level-badge {
            display: inline-block;
            padding: clamp(0.6rem, 2vw, 0.8rem) clamp(1.5rem, 3vw, 2rem);
            background: linear-gradient(135deg, var(--yellow) 0%, #ffd54f 100%);
            color: var(--primary-dark);
            border-radius: 50px;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            box-shadow: 0 8px 32px rgba(249, 201, 17, 0.4);
            margin-bottom: 2rem;
        }

        .urgency-banner {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.2) 0%, rgba(249, 201, 17, 0.2) 100%);
            border: 2px solid rgba(249, 201, 17, 0.5);
            border-radius: 16px;
            padding: clamp(1.5rem, 3vw, 2rem);
            margin: 2rem 0;
            text-align: center;
        }

        .urgency-title {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            font-weight: 800;
            color: var(--white);
            margin-bottom: 1rem;
        }

        .urgency-score {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 900;
            color: var(--yellow);
            margin-bottom: 0.5rem;
        }

        .urgency-text {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: var(--accent-lighter);
            line-height: 1.6;
        }

        .next-steps-card {
            background: rgba(10, 20, 35, 0.8);
            border: 2px solid var(--primary-light);
            border-radius: 20px;
            padding: clamp(1.5rem, 3vw, 2rem);
            margin: 2rem 0;
        }

        .next-steps-title {
            font-size: clamp(1.3rem, 3vw, 2rem);
            font-weight: 800;
            color: var(--white);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .step-item {
            background: rgba(26, 200, 219, 0.08);
            border-left: 4px solid var(--primary-light);
            border-radius: 12px;
            padding: clamp(1rem, 2vw, 1.5rem);
            margin-bottom: 1rem;
        }

        .step-number {
            display: inline-block;
            background: var(--gradient-primary);
            color: var(--white);
            width: clamp(28px, 6vw, 36px);
            height: clamp(28px, 6vw, 36px);
            border-radius: 50%;
            text-align: center;
            line-height: clamp(28px, 6vw, 36px);
            font-weight: 800;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            margin-right: 1rem;
        }

        .step-content {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: var(--white);
            line-height: 1.6;
        }

        /* CTA */
        .cta-premium {
            background: linear-gradient(135deg, rgba(26, 200, 219, 0.15) 0%, rgba(20, 126, 147, 0.15) 100%);
            border: 2px solid var(--primary-light);
            border-radius: 20px;
            padding: clamp(2rem, 4vw, 3rem) clamp(1.5rem, 3vw, 2rem);
            text-align: center;
            margin: 2rem 0;
        }

        .cta-title {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 900;
            color: var(--white);
            margin-bottom: 1rem;
        }

        .cta-text {
            font-size: clamp(0.9rem, 2vw, 1.2rem);
            color: var(--accent-lighter);
            margin-bottom: 2rem;
            line-height: 1.7;
        }

        /* Loading */
        .loading-premium {
            text-align: center;
            padding: clamp(3rem, 6vw, 4rem) clamp(1.5rem, 3vw, 2rem);
        }

        .loading-orb {
            width: clamp(120px, 25vw, 150px);
            height: clamp(120px, 25vw, 150px);
            margin: 0 auto 2rem;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
            box-shadow: 
                0 0 60px rgba(26, 200, 219, 0.6),
                inset 0 0 40px rgba(255, 255, 255, 0.2);
            animation: pulse-orb 2s ease-in-out infinite;
        }

        @keyframes pulse-orb {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 
                    0 0 60px rgba(26, 200, 219, 0.6),
                    inset 0 0 40px rgba(255, 255, 255, 0.2);
            }
            50% { 
                transform: scale(1.1);
                box-shadow: 
                    0 0 100px rgba(26, 200, 219, 0.8),
                    0 0 60px rgba(26, 200, 219, 0.4),
                    inset 0 0 40px rgba(255, 255, 255, 0.2);
            }
        }

        .loading-text {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            color: var(--white);
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .loading-subtext {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: var(--accent-lighter);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem 1rem 1rem;
            font-size: clamp(0.75rem, 1.5vw, 0.85rem);
            color: rgba(117, 230, 218, 0.5);
        }
    </style>
</head>
<body>
    
<!-- Formulario Inicial -->
<div id="userForm" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(5, 68, 69, 0.95); z-index: 10000; display: flex; align-items: center; justify-content: center;">
  <div style="background: white; padding: 40px; border-radius: 20px; max-width: 500px; width: 90%;">
    <h2 style="color: #054445; text-align: center; margin-bottom: 30px;">üìã Datos del Participante</h2>
    <input type="text" id="userNombre" placeholder="Nombre y Apellidos *" required style="width: 100%; padding: 15px; margin-bottom: 15px; border: 2px solid #75e6da; border-radius: 10px; font-size: 16px;">
    <input type="email" id="userCorreo" placeholder="Correo Electr√≥nico *" required style="width: 100%; padding: 15px; margin-bottom: 15px; border: 2px solid #75e6da; border-radius: 10px; font-size: 16px;">
    <input type="tel" id="userCelular" placeholder="N√∫mero de Celular *" required style="width: 100%; padding: 15px; margin-bottom: 15px; border: 2px solid #75e6da; border-radius: 10px; font-size: 16px;">
    <input type="text" id="userEmpresa" placeholder="Empresa *" required style="width: 100%; padding: 15px; margin-bottom: 15px; border: 2px solid #75e6da; border-radius: 10px; font-size: 16px;">
    <input type="text" id="userCargo" placeholder="Cargo *" required style="width: 100%; padding: 15px; margin-bottom: 25px; border: 2px solid #75e6da; border-radius: 10px; font-size: 16px;">
    <button onclick="iniciarDiagnosticoApp()" style="width: 100%; padding: 18px; background: linear-gradient(135deg, #75e6da 0%, #5bc0be 100%); color: #054445; border: none; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer;">üöÄ Iniciar Diagn√≥stico</button>
  </div>
</div>
    <!-- Neural Network Background -->
    <div class="neural-background">
        <canvas class="neural-canvas" id="neuralCanvas"></canvas>
    </div>

    <!-- Particles -->
    <div class="particles" id="particles"></div>

    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Generate particles on load
        window.addEventListene
            // URL de Google Sheets
const GOOGLE_SHEETS_URL = 'https://script.google.com/macros/s/AKfycby7msU2IL_nBKlGcGUeHeX41zvSv6axk4o0-WPw0mo_1qTQ1qVbUBXaqg42ns_MZZFO/exec';
let userData = {};

function iniciarDiagnosticoApp() {
  const nombre = document.getElementById('userNombre').value.trim();
  const correo = document.getElementById('userCorreo').value.trim();
  const celular = document.getElementById('userCelular').value.trim();
  const empresa = document.getElementById('userEmpresa').value.trim();
  const cargo = document.getElementById('userCargo').value.trim();
  
  if(!nombre || !correo || !celular || !empresa || !cargo) {
    alert('‚ö†Ô∏è Por favor completa todos los campos obligatorios');
    return;
  }
  
  userData = {nombre, correo, celular, empresa, cargo};
  document.getElementById('userForm').style.display = 'none';
}

function enviarAGoogleSheets(totalScore, category, answers) {
  const datos = {
    ...userData,
    puntajeTotal: totalScore,
    nivel: category
  };
  
  for(let i = 1; i <= 60; i++) {
    datos['pregunta' + i] = answers[i] || 0;
  }
  
  fetch(GOOGLE_SHEETS_URL, {
    method: 'POST',
    mode: 'no-cors',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify(datos)
  }).catch(e => console.log('Datos enviados'));
}
r('DOMContentLoaded', () => {
            const particlesContainer = document.getElementById('particles');
            if (particlesContainer) {
                for (let i = 0; i < 40; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 15 + 's';
                    particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                    particlesContainer.appendChild(particle);
                }
            }

            // Neural network canvas
            const canvas = document.getElementById('neuralCanvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                const isMobile = window.innerWidth < 768;
                
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;

                const nodes = [];
                const nodeCount = isMobile ? 15 : 30; // Menos nodos en m√≥vil para mejor performance

                for (let i = 0; i < nodeCount; i++) {
                    nodes.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        vx: (Math.random() - 0.5) * (isMobile ? 0.2 : 0.3),
                        vy: (Math.random() - 0.5) * (isMobile ? 0.2 : 0.3)
                    });
                }

                function animate() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);

                    nodes.forEach(node => {
                        node.x += node.vx;
                        node.y += node.vy;

                        if (node.x < 0 || node.x > canvas.width) node.vx *= -1;
                        if (node.y < 0 || node.y > canvas.height) node.vy *= -1;

                        ctx.beginPath();
                        ctx.arc(node.x, node.y, 2, 0, Math.PI * 2);
                        ctx.fillStyle = 'rgba(26, 200, 219, 0.3)';
                        ctx.fill();

                        nodes.forEach(otherNode => {
                            const dx = node.x - otherNode.x;
                            const dy = node.y - otherNode.y;
                            const distance = Math.sqrt(dx * dx + dy * dy);

                            if (distance < 150) {
                                ctx.beginPath();
                                ctx.moveTo(node.x, node.y);
                                ctx.lineTo(otherNode.x, otherNode.y);
                                ctx.strokeStyle = `rgba(26, 200, 219, ${0.15 * (1 - distance / 150)})`;
                                ctx.lineWidth = 0.5;
                                ctx.stroke();
                            }
                        });
                    });

                    requestAnimationFrame(animate);
                }

                animate();

                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        canvas.width = window.innerWidth;
                        canvas.height = window.innerHeight;
                    }, 250);
                });
            }
        });

        // NUEVA ESTRUCTURA: 10 preguntas (5 madurez + 5 familiaridad IA) = 100 puntos madurez
        // 5 preguntas dolor/urgencia = 100 puntos necesidad
        const questions = [
            // SECCI√ìN 1: MADUREZ DIGITAL (5 preguntas √ó 10 puntos = 50 puntos)
            {
                id: 1,
                category: 'maturity',
                section: 'Madurez Digital',
                question: '¬øC√≥mo describes tu nivel actual de digitalizaci√≥n en el trabajo?',
                subtitle: 'Queremos entender tu punto de partida digital',
                options: [
                    { value: 2, label: 'Totalmente Anal√≥gico', icon: 'üìù', text: 'Trabajo principalmente con papel, archivos f√≠sicos y procesos manuales' },
                    { value: 4, label: 'Digitalizaci√≥n B√°sica', icon: 'üìß', text: 'Uso email, documentos digitales b√°sicos, pero muchos procesos siguen siendo manuales' },
                    { value: 6, label: 'Parcialmente Digital', icon: 'üíª', text: 'Tengo varios procesos digitales pero a√∫n hay muchas tareas manuales' },
                    { value: 8, label: 'Mayormente Digital', icon: '‚òÅÔ∏è', text: 'La mayor√≠a de mis procesos son digitales con cloud y colaboraci√≥n' },
                    { value: 10, label: 'Completamente Digital', icon: '‚ö°', text: 'Flujo 100% digital con automatizaciones e integraciones avanzadas' }
                ]
            },
            {
                id: 2,
                category: 'maturity',
                section: 'Madurez Digital',
                question: '¬øQu√© herramientas de productividad usas regularmente?',
                subtitle: 'Esto nos ayuda a entender tu stack actual',
                options: [
                    { value: 2, label: 'Herramientas B√°sicas', icon: 'üì±', text: 'Solo email, WhatsApp y apps muy b√°sicas' },
                    { value: 4, label: 'Office B√°sico', icon: 'üìä', text: 'Word, Excel, PowerPoint y email' },
                    { value: 6, label: 'Suite Cloud', icon: '‚òÅÔ∏è', text: 'Google Workspace o Microsoft 365 completo' },
                    { value: 8, label: 'Stack Productividad', icon: 'üõ†Ô∏è', text: 'Suite completa + herramientas gesti√≥n proyectos (Notion, Trello, etc)' },
                    { value: 10, label: 'Stack Avanzado', icon: 'üöÄ', text: 'Suite + automatizaciones + CRM + integraciones m√∫ltiples' }
                ]
            },
            {
                id: 3,
                category: 'maturity',
                section: 'Madurez Digital',
                question: '¬øCu√°nto tiempo dedicas diariamente a tareas repetitivas manuales?',
                subtitle: 'Identificamos oportunidades de automatizaci√≥n',
                options: [
                    { value: 2, label: 'M√°s de 5 horas', icon: 'üò∞', text: 'La mayor parte de mi d√≠a son tareas manuales repetitivas' },
                    { value: 4, label: '3-5 horas', icon: 'üòì', text: 'Dedico varias horas a copiar, pegar, formatear, organizar manualmente' },
                    { value: 6, label: '2-3 horas', icon: '‚è∞', text: 'Un par de horas en tareas repetitivas que podr√≠an automatizarse' },
                    { value: 8, label: '1-2 horas', icon: '‚è±Ô∏è', text: 'Algunas tareas repetitivas pero ya tengo cierta eficiencia' },
                    { value: 10, label: 'Menos de 1 hora', icon: '‚ú®', text: 'Ya he automatizado la mayor√≠a de procesos repetitivos' }
                ]
            },
            {
                id: 4,
                category: 'maturity',
                section: 'Madurez Digital',
                question: '¬øC√≥mo calificas tu capacidad de adoptar nuevas tecnolog√≠as?',
                subtitle: 'Esto determina el ritmo de implementaci√≥n ideal',
                options: [
                    { value: 2, label: 'Me cuesta mucho', icon: 'üê¢', text: 'Prefiero m√©todos tradicionales, los cambios tecnol√≥gicos me generan resistencia' },
                    { value: 4, label: 'Lento pero seguro', icon: 'üö∂', text: 'Me adapto gradualmente pero necesito mucho tiempo y apoyo constante' },
                    { value: 6, label: 'Ritmo Normal', icon: 'üèÉ', text: 'Me adapto en tiempo razonable con buena documentaci√≥n y gu√≠a' },
                    { value: 8, label: 'R√°pido', icon: 'üöÄ', text: 'Aprendo r√°pido, me gusta experimentar con nuevas herramientas' },
                    { value: 10, label: 'Early Adopter', icon: '‚ö°', text: 'Siempre estoy probando lo √∫ltimo, me apasiona la tecnolog√≠a' }
                ]
            },
            {
                id: 5,
                category: 'maturity',
                section: 'Madurez Digital',
                question: '¬øQu√© presupuesto mensual puedes destinar a herramientas tecnol√≥gicas?',
                subtitle: 'Hay soluciones para todos los presupuestos',
                options: [
                    { value: 2, label: 'Muy Limitado', icon: 'üíµ', text: '$0-30 USD/mes - Solo puedo usar herramientas gratuitas o muy econ√≥micas' },
                    { value: 4, label: 'Econ√≥mico', icon: 'üí∞', text: '$30-100 USD/mes - Puedo invertir en algunas herramientas esenciales' },
                    { value: 6, label: 'Moderado', icon: 'üíé', text: '$100-250 USD/mes - Puedo pagar herramientas profesionales de calidad' },
                    { value: 8, label: 'Profesional', icon: 'üëî', text: '$250-500 USD/mes - Busco herramientas premium y especializadas' },
                    { value: 10, label: 'Ilimitado', icon: 'üëë', text: '$500+ USD/mes - Quiero lo mejor del mercado sin importar el costo' }
                ]
            },

            // SECCI√ìN 2: FAMILIARIDAD CON IA (5 preguntas √ó 10 puntos = 50 puntos)
            {
                id: 6,
                category: 'ai-familiarity',
                section: 'Familiaridad con IA',
                question: '¬øQu√© tan familiarizado est√°s con herramientas de Inteligencia Artificial?',
                subtitle: 'Queremos saber tu experiencia actual con IA',
                options: [
                    { value: 2, label: 'Nunca he usado', icon: 'üå±', text: 'No he usado ninguna herramienta de IA, apenas conozco el concepto' },
                    { value: 4, label: 'Principiante', icon: 'üì±', text: 'He probado ChatGPT una o dos veces pero no lo uso regularmente' },
                    { value: 6, label: 'Uso Ocasional', icon: 'üíª', text: 'Uso ChatGPT u otra IA de vez en cuando para tareas puntuales' },
                    { value: 8, label: 'Usuario Regular', icon: 'üéØ', text: 'Uso IA regularmente (varias veces por semana) para diferentes tareas' },
                    { value: 10, label: 'Usuario Avanzado', icon: 'üöÄ', text: 'Uso m√∫ltiples IAs diariamente, es parte esencial de mi trabajo' }
                ]
            },
            {
                id: 7,
                category: 'ai-familiarity',
                section: 'Familiaridad con IA',
                question: '¬øCu√°ntas herramientas de IA diferentes has utilizado?',
                subtitle: 'Esto nos indica tu exposici√≥n al ecosistema de IA',
                options: [
                    { value: 2, label: 'Ninguna', icon: '‚ùå', text: 'No he utilizado ninguna herramienta de IA todav√≠a' },
                    { value: 4, label: 'Solo 1', icon: '1Ô∏è‚É£', text: 'Solo he usado una herramienta de IA (probablemente ChatGPT)' },
                    { value: 6, label: '2-3 herramientas', icon: '2Ô∏è‚É£', text: 'He probado 2 o 3 herramientas diferentes de IA' },
                    { value: 8, label: '4-6 herramientas', icon: 'üéØ', text: 'Tengo experiencia con 4 a 6 herramientas de IA diferentes' },
                    { value: 10, label: '7+ herramientas', icon: 'üåü', text: 'He usado 7 o m√°s herramientas de IA, conozco el ecosistema' }
                ]
            },
            {
                id: 8,
                category: 'ai-familiarity',
                section: 'Familiaridad con IA',
                question: '¬øQu√© tan c√≥modo te sientes escribiendo prompts (instrucciones) para IA?',
                subtitle: 'El prompting efectivo es clave para aprovechar la IA',
                options: [
                    { value: 2, label: 'Muy Inc√≥modo', icon: 'üò∞', text: 'No s√© c√≥mo escribir buenos prompts, obtengo resultados malos' },
                    { value: 4, label: 'Inseguro', icon: 'üòï', text: 'Escribo prompts b√°sicos pero siento que no saco el m√°ximo provecho' },
                    { value: 6, label: 'Aceptable', icon: 'üôÇ', text: 'Escribo prompts decentes, a veces obtengo buenos resultados' },
                    { value: 8, label: 'Competente', icon: 'üòä', text: 'S√© escribir buenos prompts y casi siempre obtengo lo que necesito' },
                    { value: 10, label: 'Experto', icon: 'üéì', text: 'Domino el arte del prompting, uso t√©cnicas avanzadas y obtengo resultados excelentes' }
                ]
            },
            {
                id: 9,
                category: 'ai-familiarity',
                section: 'Familiaridad con IA',
                question: '¬øCon qu√© frecuencia utilizas IA en tu trabajo o estudios?',
                subtitle: 'La consistencia en el uso indica tu nivel de integraci√≥n',
                options: [
                    { value: 2, label: 'Nunca', icon: '‚èπÔ∏è', text: 'No he integrado IA en mi trabajo o estudios a√∫n' },
                    { value: 4, label: 'Raramente', icon: 'üåô', text: 'Menos de una vez por semana, solo en ocasiones muy espec√≠ficas' },
                    { value: 6, label: 'Semanalmente', icon: 'üìÖ', text: '1-3 veces por semana para tareas espec√≠ficas' },
                    { value: 8, label: 'Diariamente', icon: '‚òÄÔ∏è', text: 'Uso IA casi todos los d√≠as para diversas tareas' },
                    { value: 10, label: 'Constantemente', icon: '‚ö°', text: 'IA es parte integral de mi flujo de trabajo, la uso m√∫ltiples veces al d√≠a' }
                ]
            },
            {
                id: 10,
                category: 'ai-familiarity',
                section: 'Familiaridad con IA',
                question: '¬øQu√© nivel de conocimiento tienes sobre las capacidades y limitaciones de la IA?',
                subtitle: 'Entender qu√© puede y no puede hacer la IA es fundamental',
                options: [
                    { value: 2, label: 'Muy B√°sico', icon: 'üå±', text: 'No tengo claro qu√© puede hacer la IA y qu√© limitaciones tiene' },
                    { value: 4, label: 'B√°sico', icon: 'üìö', text: 'S√© algunas cosas que puede hacer pero me sorprendo frecuentemente' },
                    { value: 6, label: 'Intermedio', icon: 'üéØ', text: 'Entiendo bien para qu√© tareas es √∫til la IA y para cu√°les no' },
                    { value: 8, label: 'Avanzado', icon: 'üî¨', text: 'Conozco en detalle capacidades y limitaciones de diferentes IAs' },
                    { value: 10, label: 'Experto', icon: 'üèÜ', text: 'Domino el panorama completo de IA, s√© exactamente qu√© herramienta usar para cada caso' }
                ]
            },

            // SECCI√ìN 3: DOLOR/NECESIDAD/URGENCIA (5 preguntas √ó 20 puntos = 100 puntos)
            {
                id: 11,
                category: 'pain',
                section: 'Necesidad & Urgencia',
                question: '¬øCu√°l es tu MAYOR problema o dolor en este momento?',
                subtitle: 'Identifiquemos el obst√°culo principal que enfrentas',
                options: [
                    { value: 4, label: 'Falta de Tiempo', icon: '‚è∞', text: 'No me alcanza el tiempo, estoy completamente saturado de tareas' },
                    { value: 8, label: 'Bajo Rendimiento', icon: 'üìâ', text: 'Mis resultados no son suficientes, necesito ser m√°s productivo' },
                    { value: 12, label: 'Qued√°ndome Atr√°s', icon: 'üêå', text: 'Siento que la competencia me est√° superando, necesito actualizarme' },
                    { value: 16, label: 'No puedo Escalar', icon: 'üöß', text: 'Quiero crecer pero estoy estancado, no puedo manejar m√°s volumen' },
                    { value: 20, label: 'Crisis Urgente', icon: 'üö®', text: 'Tengo una necesidad cr√≠tica AHORA, podr√≠a perder clientes/oportunidades' }
                ]
            },
            {
                id: 12,
                category: 'pain',
                section: 'Necesidad & Urgencia',
                question: '¬øQu√© tan urgente es para ti implementar soluciones de IA?',
                subtitle: 'Esto nos ayuda a priorizar tus pr√≥ximos pasos',
                options: [
                    { value: 4, label: 'Exploratorio', icon: 'üîç', text: 'Solo estoy investigando, no tengo prisa, es curiosidad' },
                    { value: 8, label: 'Planeando', icon: 'üìÖ', text: 'Quiero implementar en los pr√≥ximos 3-6 meses gradualmente' },
                    { value: 12, label: 'Pr√≥ximamente', icon: '‚è∞', text: 'Necesito empezar en las pr√≥ximas 2-4 semanas' },
                    { value: 16, label: 'Urgente', icon: '‚ö°', text: 'Necesito soluciones en los pr√≥ximos 7 d√≠as' },
                    { value: 20, label: 'Cr√≠tico', icon: 'üö®', text: 'Es URGENTE, necesito ayuda YA, es cr√≠tico para mi negocio' }
                ]
            },
            {
                id: 13,
                category: 'pain',
                section: 'Necesidad & Urgencia',
                question: '¬øQu√© est√° en riesgo si no resuelves esto pronto?',
                subtitle: 'Entendamos el impacto real de no actuar',
                options: [
                    { value: 4, label: 'Nada cr√≠tico', icon: 'üòå', text: 'No hay riesgo inmediato, es m√°s por mejorar y optimizar' },
                    { value: 8, label: 'Oportunidades perdidas', icon: 'üéØ', text: 'Estoy dejando pasar oportunidades de crecimiento' },
                    { value: 12, label: 'P√©rdida competitiva', icon: 'üìâ', text: 'La competencia me est√° ganando terreno, pierdo posicionamiento' },
                    { value: 16, label: 'P√©rdida de ingresos', icon: 'üí∞', text: 'Estoy perdiendo dinero o clientes por no ser eficiente' },
                    { value: 20, label: 'Riesgo de cierre', icon: 'üö®', text: 'Mi negocio/proyecto podr√≠a fracasar si no resuelvo esto pronto' }
                ]
            },
            {
                id: 14,
                category: 'pain',
                section: 'Necesidad & Urgencia',
                question: '¬øC√≥mo afecta tu situaci√≥n actual tu calidad de vida o bienestar?',
                subtitle: 'El impacto personal tambi√©n importa',
                options: [
                    { value: 4, label: 'Sin impacto', icon: 'üòä', text: 'Estoy bien, solo busco optimizar y ser m√°s eficiente' },
                    { value: 8, label: 'Algo de estr√©s', icon: 'üòê', text: 'Siento algo de presi√≥n pero es manejable' },
                    { value: 12, label: 'Estr√©s frecuente', icon: 'üò∞', text: 'Me genera estr√©s constante, afecta mi d√≠a a d√≠a' },
                    { value: 16, label: 'Burnout cercano', icon: 'üò´', text: 'Estoy al l√≠mite, exhausto, trabajando demasiadas horas' },
                    { value: 20, label: 'Burnout total', icon: 'üò≠', text: 'Estoy quemado completamente, afecta mi salud y relaciones' }
                ]
            },
            {
                id: 15,
                category: 'pain',
                section: 'Necesidad & Urgencia',
                question: '¬øQu√© tipo de apoyo necesitas para implementar soluciones de IA?',
                subtitle: 'Esto define el nivel de acompa√±amiento ideal',
                options: [
                    { value: 4, label: 'Autodidacta', icon: 'üìö', text: 'Solo necesito recursos, puedo aprender solo' },
                    { value: 8, label: 'Gu√≠as b√°sicas', icon: 'üó∫Ô∏è', text: 'Necesito documentaci√≥n clara y tutoriales bien explicados' },
                    { value: 12, label: 'Algo de mentor√≠a', icon: 'ü§ù', text: 'Quiero sesiones ocasionales de mentor√≠a y seguimiento' },
                    { value: 16, label: 'Acompa√±amiento', icon: 'üë®‚Äçüè´', text: 'Necesito mentor√≠a continua y apoyo constante' },
                    { value: 20, label: 'Implementaci√≥n completa', icon: 'üë®‚Äçüíº', text: 'Necesito que me ayuden hands-on a implementar TODO desde cero' }
                ]
            }
        ];

        const App = () => {
            const [currentStep, setCurrentStep] = useState('welcome');
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [answers, setAnswers] = useState({});
            const [results, setResults] = useState(null);

            const handleAnswer = (questionId, value) => {
                setAnswers(prev => ({
                    ...prev,
                    [questionId]: value
                }));
            };

            const nextQuestion = () => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(prev => prev + 1);
                } else {
                    setCurrentStep('loading');
                    setTimeout(() => {
                        calculateResults();
                        setCurrentStep('results');
                    }, 2500);
                }
            };

            const prevQuestion = () => {
                if (currentQuestion > 0) {
                    setCurrentQuestion(prev => prev - 1);
                }
            };

            const calculateResults = () => {
                // Calcular scores
                const maturityQuestions = questions.filter(q => q.category === 'maturity');
                const aiQuestions = questions.filter(q => q.category === 'ai-familiarity');
                const painQuestions = questions.filter(q => q.category === 'pain');

                const maturityScore = maturityQuestions.reduce((sum, q) => sum + (answers[q.id] || 0), 0);
                const aiScore = aiQuestions.reduce((sum, q) => sum + (answers[q.id] || 0), 0);
                const painScore = painQuestions.reduce((sum, q) => sum + (answers[q.id] || 0), 0);

                // Score total de madurez (0-100)
                const totalMaturityScore = maturityScore + aiScore;

                // Score de urgencia/necesidad (0-100)
                const urgencyScore = painScore;

                // Determinar nivel
                let maturityLevel, urgencyLevel;

                if (totalMaturityScore <= 20) maturityLevel = 'Principiante';
                else if (totalMaturityScore <= 40) maturityLevel = 'B√°sico';
                else if (totalMaturityScore <= 60) maturityLevel = 'Intermedio';
                else if (totalMaturityScore <= 80) maturityLevel = 'Avanzado';
                else maturityLevel = 'Experto';

                if (urgencyScore <= 20) urgencyLevel = 'Exploratorio - Sin prisa';
                else if (urgencyScore <= 40) urgencyLevel = 'Moderado - Planificando';
                else if (urgencyScore <= 60) urgencyLevel = 'Importante - Pr√≥ximamente';
                else if (urgencyScore <= 80) urgencyLevel = 'Urgente - Acci√≥n ya';
                else urgencyLevel = 'CR√çTICO - Necesita ayuda inmediata';

                setResults({
                    maturityScore: totalMaturityScore,
                    maturityLevel,
                    urgencyScore,
                    urgencyLevel
                });
            };

            const restartQuiz = () => {
                setCurrentStep('welcome');
                setCurrentQuestion(0);
                setAnswers({});
                setResults(null);
            };

            const currentQ = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            const isAnswered = answers[currentQ?.id] !== undefined;

            // Progress circle calculations
            const radius = 70;
            const circumference = 2 * Math.PI * radius;
            const progressOffset = circumference - (progress / 100) * circumference;

            // Score circle calculations
            const scoreRadius = 100;
            const scoreCircumference = 2 * Math.PI * scoreRadius;

            return (
                <div className="app-container">
                    <div className="header">
                        <div className="logo-container">
                            <div className="logo-3d">ü§ñ</div>
                        </div>
                        <h1 className="main-title">Diagn√≥stico IA 360¬∞</h1>
                        <p className="subtitle">Tu Evaluaci√≥n Personalizada de Madurez Digital</p>
                        <p className="creator-tag">Desarrollado por el Ing. Jorge Hugo P√©rez para IA LABS<br/>una divisi√≥n de ICONE Academy</p>
                    </div>

                    <div className="glass-card">
                        {currentStep === 'welcome' && (
                            <div className="welcome-screen">
                                <div className="welcome-visual">üéØ</div>
                                <h2 className="welcome-title">Descubre tu Nivel de Madurez Digital</h2>
                                <p className="welcome-text">
                                    En solo 5 minutos obtendr√°s dos evaluaciones profesionales:<br/>
                                    <strong>1) Tu Madurez Digital (0-100 puntos)</strong><br/>
                                    <strong>2) Tu Nivel de Urgencia (0-100 puntos)</strong><br/>
                                    M√°s los 2 pasos exactos que debes dar ahora.
                                </p>

                                <div className="feature-grid">
                                    <div className="feature-card">
                                        <div className="feature-icon">‚ö°</div>
                                        <div className="feature-title">5 Minutos</div>
                                        <div className="feature-desc">R√°pido y preciso</div>
                                    </div>
                                    <div className="feature-card">
                                        <div className="feature-icon">üìä</div>
                                        <div className="feature-title">10 Preguntas</div>
                                        <div className="feature-desc">Evaluaci√≥n completa</div>
                                    </div>
                                    <div className="feature-card">
                                        <div className="feature-icon">üéØ</div>
                                        <div className="feature-title">2 Scores</div>
                                        <div className="feature-desc">Madurez + Urgencia</div>
                                    </div>
                                    <div className="feature-card">
                                        <div className="feature-icon">üöÄ</div>
                                        <div className="feature-title">Plan Acci√≥n</div>
                                        <div className="feature-desc">Pr√≥ximos pasos</div>
                                    </div>
                                </div>

                                <button 
                                    className="btn-holographic" 
                                    onClick={() => setCurrentStep('questions')}
                                    style={{maxWidth: '400px', margin: '2rem auto 0'}}
                                >
                                    Comenzar Evaluaci√≥n ‚Üí
                                </button>
                            </div>
                        )}

                        {currentStep === 'questions' && (
                            <>
                                <div className="progress-container">
                                    <div className="progress-ring">
                                        <svg width="100%" height="100%" viewBox="0 0 180 180">
                                            <defs>
                                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                    <stop offset="0%" stopColor="#1ac8db" />
                                                    <stop offset="100%" stopColor="#147e93" />
                                                </linearGradient>
                                            </defs>
                                            <circle
                                                fill="none"
                                                stroke="rgba(26, 200, 219, 0.1)"
                                                strokeWidth="8"
                                                cx="90"
                                                cy="90"
                                                r={radius}
                                            />
                                            <circle
                                                fill="none"
                                                stroke="url(#gradient)"
                                                strokeWidth="8"
                                                strokeLinecap="round"
                                                cx="90"
                                                cy="90"
                                                r={radius}
                                                strokeDasharray={circumference}
                                                strokeDashoffset={progressOffset}
                                                style={{transition: 'stroke-dashoffset 0.5s ease'}}
                                            />
                                        </svg>
                                        <div className="progress-text">{currentQuestion + 1}/{questions.length}</div>
                                    </div>
                                    <div className="progress-label">{currentQ.section}</div>
                                </div>

                                <div className="question-card">
                                    <div className="question-badge">
                                        {currentQ.category === 'maturity' && 'üîß Madurez Digital'}
                                        {currentQ.category === 'ai-familiarity' && 'ü§ñ Familiaridad IA'}
                                        {currentQ.category === 'pain' && 'üí° Necesidad & Urgencia'}
                                    </div>
                                    <h2 className="question-title">{currentQ.question}</h2>
                                    <p className="question-subtitle">{currentQ.subtitle}</p>

                                    <div className="options-grid">
                                        {currentQ.options.map((option) => (
                                            <div 
                                                key={option.value}
                                                className={`option-modern ${answers[currentQ.id] === option.value ? 'selected' : ''}`}
                                                onClick={() => handleAnswer(currentQ.id, option.value)}
                                            >
                                                <span className="option-icon">{option.icon}</span>
                                                <div className="option-content">
                                                    <span className="option-label">{option.label}</span>
                                                    <div className="option-text">{option.text}</div>
                                                    <div className="option-points">{option.value} puntos</div>
                                                </div>
                                                <div className="option-check"></div>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="button-group">
                                        <button 
                                            className="btn-holographic btn-secondary" 
                                            onClick={prevQuestion}
                                            disabled={currentQuestion === 0}
                                        >
                                            ‚Üê Anterior
                                        </button>
                                        <button 
                                            className="btn-holographic" 
                                            onClick={nextQuestion}
                                            disabled={!isAnswered}
                                        >
                                            {currentQuestion === questions.length - 1 ? 'Ver Resultados üéâ' : 'Siguiente ‚Üí'}
                                        </button>
                                    </div>
                                </div>
                            </>
                        )}

                        {currentStep === 'loading' && (
                            <div className="loading-premium">
                                <div className="loading-orb"></div>
                                <p className="loading-text">Analizando tus respuestas...</p>
                                <p className="loading-subtext">Generando tu evaluaci√≥n personalizada</p>
                            </div>
                        )}

                        {currentStep === 'results' && results && (
                            <div className="results-screen">
                                {/* MADUREZ DIGITAL */}
                                <div className="score-section">
                                    <h3 style={{fontSize: 'clamp(1.3rem, 3vw, 2rem)', fontWeight: '800', textAlign: 'center', marginBottom: '2rem'}}>
                                        üìä Tu Madurez Digital
                                    </h3>
                                    <div className="score-circle">
                                        <svg width="100%" height="100%" viewBox="0 0 280 280">
                                            <defs>
                                                <linearGradient id="scoreGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                    <stop offset="0%" stopColor="#1ac8db" />
                                                    <stop offset="100%" stopColor="#147e93" />
                                                </linearGradient>
                                            </defs>
                                            <circle
                                                fill="none"
                                                stroke="rgba(26, 200, 219, 0.1)"
                                                strokeWidth="12"
                                                cx="140"
                                                cy="140"
                                                r={scoreRadius}
                                            />
                                            <circle
                                                fill="none"
                                                stroke="url(#scoreGradient)"
                                                strokeWidth="12"
                                                strokeLinecap="round"
                                                cx="140"
                                                cy="140"
                                                r={scoreRadius}
                                                strokeDasharray={scoreCircumference}
                                                strokeDashoffset={scoreCircumference - (results.maturityScore / 100) * scoreCircumference}
                                                transform="rotate(-90 140 140)"
                                                style={{transition: 'stroke-dashoffset 1s ease'}}
                                            />
                                        </svg>
                                        <div className="score-value-large">{results.maturityScore}</div>
                                        <div className="score-label">/100 puntos</div>
                                    </div>
                                    <div className="level-badge">{results.maturityLevel}</div>
                                </div>

                                {/* NIVEL DE URGENCIA */}
                                <div className="urgency-banner">
                                    <h3 className="urgency-title">‚ö° Nivel de Necesidad de Ayuda</h3>
                                    <div className="urgency-score">{results.urgencyScore}/100</div>
                                    <div className="urgency-text">
                                        <strong>{results.urgencyLevel}</strong><br/>
                                        {results.urgencyScore >= 80 && 'Necesitas ayuda URGENTE. Tu situaci√≥n requiere atenci√≥n inmediata.'}
                                        {results.urgencyScore >= 60 && results.urgencyScore < 80 && 'Tu situaci√≥n es importante y deber√≠as actuar pronto.'}
                                        {results.urgencyScore >= 40 && results.urgencyScore < 60 && 'Tienes una necesidad moderada, es buen momento para actuar.'}
                                        {results.urgencyScore >= 20 && results.urgencyScore < 40 && 'Est√°s en fase de planeaci√≥n, puedes implementar gradualmente.'}
                                        {results.urgencyScore < 20 && 'Est√°s explorando sin prisa, tienes tiempo para investigar.'}
                                    </div>
                                </div>

                                {/* PR√ìXIMOS PASOS */}
                                <div className="next-steps-card">
                                    <h3 className="next-steps-title">üéØ Tus 2 Pr√≥ximos Pasos</h3>
                                    
                                    <div className="step-item">
                                        <span className="step-number">1</span>
                                        <div className="step-content">
                                            <strong>Paso 1: {results.maturityScore <= 40 ? 'Comienza con lo B√°sico' : results.maturityScore <= 70 ? 'Optimiza tu Stack Actual' : 'Lleva tu Expertise al Siguiente Nivel'}</strong><br/>
                                            {results.maturityScore <= 40 && 'Empieza con ChatGPT Plus ($20/mes) y NotebookLM (gratis). Estas dos herramientas te dar√°n una base s√≥lida. Dedica 30 minutos diarios durante una semana a experimentar con prompts b√°sicos.'}
                                            {results.maturityScore > 40 && results.maturityScore <= 70 && 'Ya tienes bases, ahora profundiza. A√±ade Claude Sonnet 4.5 para an√°lisis avanzado y Perplexity Pro para research. Implementa 3 automatizaciones espec√≠ficas en tu flujo de trabajo esta semana.'}
                                            {results.maturityScore > 70 && 'Tu nivel es avanzado. Enf√≥cate en integrar m√∫ltiples IAs en workflows complejos. Considera GLM-4.7 para coding ag√©ntico y crea tu propio stack personalizado. Documenta tus mejores pr√°cticas para escalar tu conocimiento.'}
                                        </div>
                                    </div>

                                    <div className="step-item">
                                        <span className="step-number">2</span>
                                        <div className="step-content">
                                            <strong>Paso 2: {results.urgencyScore >= 60 ? 'Agenda Mentor√≠a de Urgencia' : results.urgencyScore >= 40 ? 'Planifica tu Implementaci√≥n' : 'Investiga y Aprende'}</strong><br/>
                                            {results.urgencyScore >= 60 && 'Tu situaci√≥n requiere atenci√≥n inmediata. Agenda una Mentor√≠a de Iniciaci√≥n conmigo para implementar soluciones r√°pidas esta misma semana. Te ayudar√© hands-on a resolver tus pain points cr√≠ticos.'}
                                            {results.urgencyScore >= 40 && results.urgencyScore < 60 && 'Crea un plan de implementaci√≥n de 30 d√≠as. Define 3 procesos clave que quieres optimizar con IA y agenda una sesi√≥n de mentor√≠a para crear tu roadmap personalizado.'}
                                            {results.urgencyScore < 40 && 'Tienes tiempo para investigar. √önete a la comunidad de IA LABS, consume contenido educativo y cuando est√©s listo, agenda una sesi√≥n de orientaci√≥n para definir tu camino √≥ptimo.'}
                                        </div>
                                    </div>
                                </div>

                                {/* CTA */}
                                <div className="cta-premium">
                                    <h3 className="cta-title">üöÄ ¬øListo para Dar el Siguiente Paso?</h3>
                                    <p className="cta-text">
                                        Agenda tu <strong>Mentor√≠a de Iniciaci√≥n</strong> y te ayudar√© personalmente a implementar 
                                        las soluciones exactas que necesitas seg√∫n tu perfil. Configuraci√≥n, estrategia, 
                                        prompts optimizados y acompa√±amiento continuo.
                                    </p>

                                    <div className="button-group">
                                        <a 
                                            href="https://wa.me/573158940980?text=Hola Jorge! Complet√© el Diagn√≥stico IA 360¬∞ y quiero agendar mi Mentor√≠a de Iniciaci√≥n"
                                            className="btn-holographic"
                                            target="_blank"
                                            rel="noopener"
                                            style={{textDecoration: 'none', textAlign: 'center', display: 'block'}}
                                        >
                                            üì± Agendar Mentor√≠a Ahora
                                        </a>
                                        <button className="btn-holographic btn-secondary" onClick={restartQuiz}>
                                            üîÑ Hacer Nuevo Diagn√≥stico
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>

                    <div className="footer">
                        Desarrollado por el Ing. Jorge Hugo P√©rez | IA LABS - Divisi√≥n de ICONE Academy<br/>
                        üìß jorgehugoperez@iconeacademy.com | üì± +57 315 8940980
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
